<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Dashboard</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <h1>User Dashboard</h1>
    <div class="search-container">
        <input type="text" id="searchName" placeholder="Search by Name">
        <input type="text" id="searchCategory" placeholder="Search by Category">
        <button onclick="searchProducts()">Search</button>
    </div>
    <h3>Search Results:</h3>
    <ul id="search-results"></ul>
    <script>
        function searchProducts() {
            const name = document.getElementById('searchName').value.trim();
            const category = document.getElementById('searchCategory').value.trim();

            fetch(`/search?name=${name}&category=${category}`)
                .then((response) => response.json())
                .then((products) => {
                    const resultsContainer = document.getElementById('search-results');
                    resultsContainer.innerHTML = products.length
                        ? products.map(product => `<li>${product.productName} - ${product.category} - ${product.price}</li>`).join('')
                        : '<li>No products found.</li>';
                })
                .catch((error) => {
                    console.error('Error fetching products:', error);
                });
        }
    </script>
</body>
</html>